// util.act

template<pint W>
defproc fork (chan?(int<W>) I; chan!(int<W>) A; chan!(int<W>) B)
{
    int<W> t;
    chp {
        *[
            I?t;
            (
            A!t,
            B!t
            )
        ]
    }
}

template<pint W>
defproc sink (chan?(int<W>) I)
{
    int<W> t;
    chp {
        *[
            I?t
        ]
    }
}

defproc sink_bool (chan?(bool) I)
{
    bool t;
    chp {
        *[
            I?t
        ]
    }
}

